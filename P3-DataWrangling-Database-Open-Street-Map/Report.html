<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>README</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); overflow: auto; background-color: rgb(40, 44, 52); }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top-width: 2px; border-top-style: dashed; border-top-color: rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); overflow: scroll; background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left-width: 4px; border-left-style: solid; border-left-color: rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-style: solid; border-width: 1px; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .horizontal-scrollbar { visibility: visible; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors,
.host {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line,
.host .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible,
.host .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor,
.host .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region,
.host .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region,
.host .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character,
.host .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide,
.host .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide,
.host .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .find-result .region.region.region,
.host .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region,
.host .current-result .region.region.region {
  border-radius: 0px;
  background-color: rgba(82, 139, 255, 0.24);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region,
.host .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region,
.host .current-result .region.region.region {
  border: 2px solid #528bff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number,
.host .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line,
.host .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #2c313a;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection,
.host .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right,
.host .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before,
.host .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after,
.host .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
.host .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
.host .gutter .line-number:after,
pre.editor-colors .fold-marker:after,
.host .fold-marker:after {
  color: #abb2bf;
}
.comment {
  color: #5c6370;
  font-style: italic;
}
.comment .markup.link {
  color: #5c6370;
}
.entity.name.type {
  color: #e5c07b;
}
.entity.other.inherited-class {
  color: #98c379;
}
.keyword {
  color: #c678dd;
}
.keyword.control {
  color: #c678dd;
}
.keyword.operator {
  color: #abb2bf;
}
.keyword.other.special-method {
  color: #61afef;
}
.keyword.other.unit {
  color: #d19a66;
}
.storage {
  color: #c678dd;
}
.storage.type.annotation,
.storage.type.primitive {
  color: #c678dd;
}
.storage.modifier.package,
.storage.modifier.import {
  color: #abb2bf;
}
.constant {
  color: #d19a66;
}
.constant.variable {
  color: #d19a66;
}
.constant.character.escape {
  color: #56b6c2;
}
.constant.numeric {
  color: #d19a66;
}
.constant.other.color {
  color: #56b6c2;
}
.constant.other.symbol {
  color: #56b6c2;
}
.variable {
  color: #e06c75;
}
.variable.interpolation {
  color: #be5046;
}
.variable.parameter {
  color: #abb2bf;
}
.string {
  color: #98c379;
}
.string.regexp {
  color: #56b6c2;
}
.string.regexp .source.ruby.embedded {
  color: #e5c07b;
}
.string.other.link {
  color: #e06c75;
}
.punctuation.definition.comment {
  color: #5c6370;
}
.punctuation.definition.method-parameters,
.punctuation.definition.function-parameters,
.punctuation.definition.parameters,
.punctuation.definition.separator,
.punctuation.definition.seperator,
.punctuation.definition.array {
  color: #abb2bf;
}
.punctuation.definition.heading,
.punctuation.definition.identity {
  color: #61afef;
}
.punctuation.definition.bold {
  color: #e5c07b;
  font-weight: bold;
}
.punctuation.definition.italic {
  color: #c678dd;
  font-style: italic;
}
.punctuation.section.embedded {
  color: #be5046;
}
.punctuation.section.method,
.punctuation.section.class,
.punctuation.section.inner-class {
  color: #abb2bf;
}
.support.class {
  color: #e5c07b;
}
.support.type {
  color: #56b6c2;
}
.support.function {
  color: #56b6c2;
}
.support.function.any-method {
  color: #61afef;
}
.entity.name.function {
  color: #61afef;
}
.entity.name.class,
.entity.name.type.class {
  color: #e5c07b;
}
.entity.name.section {
  color: #61afef;
}
.entity.name.tag {
  color: #e06c75;
}
.entity.other.attribute-name {
  color: #d19a66;
}
.entity.other.attribute-name.id {
  color: #61afef;
}
.meta.class {
  color: #e5c07b;
}
.meta.class.body {
  color: #abb2bf;
}
.meta.method-call,
.meta.method {
  color: #abb2bf;
}
.meta.definition.variable {
  color: #e06c75;
}
.meta.link {
  color: #d19a66;
}
.meta.require {
  color: #61afef;
}
.meta.selector {
  color: #c678dd;
}
.meta.separator {
  background-color: #373b41;
  color: #abb2bf;
}
.meta.tag {
  color: #abb2bf;
}
.underline {
  text-decoration: underline;
}
.none {
  color: #abb2bf;
}
.invalid.deprecated {
  color: #523d14 !important;
  background-color: #e0c285 !important;
}
.invalid.illegal {
  color: #ffffff !important;
  background-color: #e05252 !important;
}
.markup.bold {
  color: #d19a66;
  font-weight: bold;
}
.markup.changed {
  color: #c678dd;
}
.markup.deleted {
  color: #e06c75;
}
.markup.italic {
  color: #c678dd;
  font-style: italic;
}
.markup.heading {
  color: #e06c75;
}
.markup.heading .punctuation.definition.heading {
  color: #61afef;
}
.markup.link {
  color: #c678dd;
}
.markup.inserted {
  color: #98c379;
}
.markup.quote {
  color: #d19a66;
}
.markup.raw {
  color: #98c379;
}
.source.cs .keyword.operator {
  color: #c678dd;
}
.source.css .property-name,
.source.css .property-value {
  color: #828997;
}
.source.css .property-name.support,
.source.css .property-value.support {
  color: #abb2bf;
}
.source.gfm .markup {
  -webkit-font-smoothing: auto;
}
.source.gfm .link .entity {
  color: #61afef;
}
.source.go .storage.type.string {
  color: #c678dd;
}
.source.ini .keyword.other.definition.ini {
  color: #e06c75;
}
.source.java .storage.modifier.import {
  color: #e5c07b;
}
.source.java .storage.type {
  color: #e5c07b;
}
.source.java .keyword.operator.instanceof {
  color: #c678dd;
}
.source.java-properties .meta.key-pair {
  color: #e06c75;
}
.source.java-properties .meta.key-pair > .punctuation {
  color: #abb2bf;
}
.source.js .keyword.operator {
  color: #56b6c2;
}
.source.js .keyword.operator.delete,
.source.js .keyword.operator.in,
.source.js .keyword.operator.of,
.source.js .keyword.operator.instanceof,
.source.js .keyword.operator.new,
.source.js .keyword.operator.typeof,
.source.js .keyword.operator.void {
  color: #c678dd;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json {
  color: #e06c75;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json > .punctuation.string {
  color: #e06c75;
}
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json,
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json > .punctuation,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json > .punctuation {
  color: #98c379;
}
.source.json .meta.structure.dictionary.json > .constant.language.json,
.source.json .meta.structure.array.json > .constant.language.json {
  color: #56b6c2;
}
.source.ruby .constant.other.symbol > .punctuation {
  color: inherit;
}
.source.python .keyword.operator.logical.python {
  color: #c678dd;
}
.source.python .variable.parameter {
  color: #d19a66;
}
</style>
  </head>
  <body class='markdown-preview' data-use-github-style><h1 id="open-street-map-">Open Street Map:</h1>
<h3 id="case-study-for-data-wrangling-and-sql-database">Case study for data wrangling and SQL database</h3>
<p><strong>By:</strong> Rakpong Kittinaradorn</p>
<p><strong>Date:</strong> 21 November 2016</p>
<h2 id="map-area">Map area</h2>
<p>Bangkok, Thailand</p>
<p><a href="https://www.openstreetmap.org/relation/92277#map=10/13.5862/100.6332">https://www.openstreetmap.org/relation/92277#map=10/13.5862/100.6332</a></p>
<p><a href="https://mapzen.com/data/metro-extracts/metro/bangkok_thailand/">https://mapzen.com/data/metro-extracts/metro/bangkok_thailand/</a></p>
<p>This area is my hometown and also one of the best place in the world for food lover. I am interested in querying information about food and restaurant.</p>
<h2 id="list-of-files">List of Files</h2>
<blockquote>
<ul>
<li><p>slice.py: sample data to manageable size</p>
</li>
<li><p>sample.osm: sample data</p>
</li>
<li><p>parse.py: count number of each tags</p>
</li>
<li><p>way_tag_unique_k.py: examine unique &#39;k&#39; tag in way element</p>
</li>
<li><p>investigate_tag.py: investigate pattern in &#39;k&#39; tag</p>
</li>
<li><p>audit.py: list all unexpected street name and postal code</p>
</li>
<li><p>pre_database.py: code for updating data and write csv files for the database</p>
</li>
</ul>
</blockquote>
<h2 id="problems-encountered-in-map-data">Problems Encountered in Map Data</h2>
<p>The whole dataset is large (~360 Mb), so I sample it for preliminary exploration. After running parse.py, way_tag_unique_k.py, investigate_tag.py and looking into sample.osm, I found 4 main problems needed to be addressed before import it into the database.</p>
<ul>
<li><p>Inconsistent translation and transliteration from Thai to English (ex. Temple vs. Wat (transliteration of Temple (วัด))</p>
</li>
<li><p>Street name appears in multiple syntaxes</p>
</li>
<li><p>Abbreviated street name (ex. Rd. for Road)</p>
</li>
<li><p>Incorrect postal code form</p>
</li>
</ul>
<h4 id="inconsistent-translation-and-transliteration">Inconsistent translation and transliteration</h4>
<p>Thai words are usually translated into English but some entries has its transliteration instead. The example are the word “Wat (วัด)” which can be translated into “Temple” and “Thanon (ถนน)” can be translated into “Road”. Note that transliteration word is usually a prefix while translated word is a suffix, i.e. Thanon Sukhumvit is mapped to Sukhumvit Road.</p>
<h4 id="street-name-appears-in-multiple-syntaxes">Street name appears in multiple syntaxes</h4>
<p>Street name appears in two different format. The first one is in parent element ‘node’. Street name is in its child element “tag” with attribute ‘k’ = ‘addr:street’.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;node&nbsp;…&nbsp;&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>&lt;tag&nbsp;k=&quot;name&quot;&nbsp;v=&quot;Elle&nbsp;Tha&nbsp;Pra&nbsp;Chan&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;amenity&quot;&nbsp;v=&quot;restaurant&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;cuisine&quot;&nbsp;v=&quot;thai&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;addr:street&quot;&nbsp;v=&quot;Thanon&nbsp;Maharat&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;addr:housenumber&quot;&nbsp;v=&quot;172&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;/node&gt;</span></span></span></div></pre><p>The second one is in parent element ‘way’. When it has child element ‘tag’ with ‘k’ = ‘highway’ and another one with ‘k’ = ‘name:en’. The street name is in the one with ‘k’ = ‘name:en’.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;way&nbsp;…&nbsp;&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>&lt;nd&nbsp;ref=&quot;249643562&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;…</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;nd&nbsp;ref=&quot;249643519&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;name&quot;&nbsp;v=&quot;ถนน&nbsp;ราชดำเนิน&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;highway&quot;&nbsp;v=&quot;residential&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;name:en&quot;&nbsp;v=&quot;Thanon&nbsp;Rachchadamnern&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tag&nbsp;k=&quot;name:th&quot;&nbsp;v=&quot;ถนน&nbsp;ราชดำเนิน&quot;&nbsp;/&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;/way&gt;</span></span></span></div></pre><p>In cleaning street name, I need to take into account both formats.</p>
<h4 id="abbreviated-street-name">Abbreviated street name</h4>
<p>Some street names use abbreviation form (ex. Rd.) while most of them is in its full form (ex. Road). I list all abbreviation by running audit.py and wrote a script to map all abbreviated one to its full format.</p>
<p>The updating code for both abbreviation and transliteration are as follows.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span>mapping1</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure dictionary python"><span class="punctuation definition dictionary begin python"><span>{</span></span><span class="meta structure dictionary key python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>St</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Street</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>St.</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Street</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Rd.</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Road</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Rd</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Road</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>rd</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Road</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>rd.</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Road</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Ave</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Avenue</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Ave.</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Avenue</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition dictionary end python"><span>}</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span>mapping2</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta structure dictionary python"><span class="punctuation definition dictionary begin python"><span>{</span></span><span class="meta structure dictionary key python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>thanon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Road</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Thanon</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Road</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator dictionary python"><span>,</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span class="meta structure dictionary key python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Wat</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span><span class="punctuation separator valuepair dictionary python"><span>:</span></span><span>&nbsp;</span><span class="meta structure dictionary value python"><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>Temple</span><span class="punctuation definition string end python"><span>&quot;</span></span></span></span></span></span></div><div class="line"><span class="source python"><span class="meta structure dictionary python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition dictionary end python"><span>}</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;</span></span></div><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>update_name</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>word_in</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>mapping1</span></span><span class="punctuation separator parameters python"><span>,</span></span><span>&nbsp;</span><span class="variable parameter function python"><span>mapping2</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>name_list</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span>word_in</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>r</span><span>eplace</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>)</span><span class="punctuation definition string end python"><span>&#39;</span></span></span><span>,</span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="punctuation definition string end python"><span class="meta empty-string single python"><span>&#39;</span></span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>r</span><span>eplace</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>&nbsp;(</span><span class="punctuation definition string end python"><span>&#39;</span></span></span><span>,</span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>;</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>r</span><span>eplace</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>(</span><span class="punctuation definition string end python"><span>&#39;</span></span></span><span>,</span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>;</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span><span class="meta function-call python"><span>s</span><span>plit</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>;</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control repeat python"><span>for</span></span><span>&nbsp;</span><span>i</span><span>,&nbsp;</span><span>name</span><span>&nbsp;</span><span class="keyword operator logical python"><span>in</span></span><span>&nbsp;</span><span class="meta function-call python"><span class="support function builtin python"><span>enumerate</span></span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>name_list</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>:</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>parts</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>name</span><span>.</span><span>split</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>&nbsp;</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control conditional python"><span>if</span></span><span>&nbsp;</span><span class="meta item-access python"><span>parts</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="keyword operator arithmetic python"><span>-</span></span><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>&nbsp;</span><span class="keyword operator logical python"><span>in</span></span><span>&nbsp;</span><span>mapping1</span><span>:</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta item-access python"><span>parts</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="keyword operator arithmetic python"><span>-</span></span><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta item-access python"><span>mapping1</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="meta item-access python"><span>parts</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="keyword operator arithmetic python"><span>-</span></span><span class="constant numeric integer decimal python"><span>1</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control conditional python"><span>if</span></span><span>&nbsp;</span><span class="meta item-access python"><span>parts</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>&nbsp;</span><span class="keyword operator logical python"><span>in</span></span><span>&nbsp;</span><span>mapping2</span><span>:</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>parts</span><span>.</span><span>append</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="meta item-access python"><span>mapping2</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="meta item-access python"><span>parts</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>]</span></span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call python"><span>parts</span><span>.</span><span>pop</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta item-access python"><span>name_list</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>&nbsp;</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>j</span><span>oin</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>parts</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control conditional python"><span>if</span></span><span>&nbsp;</span><span>i</span><span>&nbsp;</span><span class="keyword operator comparison python"><span>!=</span></span><span>&nbsp;</span><span class="constant numeric integer decimal python"><span>0</span></span><span>:</span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta item-access python"><span>name_list</span><span class="punctuation definition arguments begin python"><span>[</span></span><span class="meta item-access arguments python"><span>i</span></span><span class="punctuation definition arguments end python"><span>]</span></span></span><span>&nbsp;</span><span class="keyword operator assignment augmented python"><span>+=</span></span><span>&nbsp;</span><span class="string quoted single single-line python"><span class="punctuation definition string begin python"><span>&#39;</span></span><span>)</span><span class="punctuation definition string end python"><span>&#39;</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>word_out</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="string quoted double single-line python"><span class="punctuation definition string begin python"><span>&quot;</span></span><span>&nbsp;(</span><span class="punctuation definition string end python"><span>&quot;</span></span></span><span>.</span><span class="meta function-call python"><span>j</span><span>oin</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span>name_list</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>word_out</span></span></div></pre>
<h4 id="incorrect-postal-code-form">Incorrect postal code form</h4>
<p>Postal code in Thailand should have 5 digits. Some postal codes are not in this form. I will update them by keeping the first 5 digits and cut everything else with this code.</p>
<pre class="editor-colors lang-python"><div class="line"><span class="source python"><span class="meta function python"><span class="storage type function python"><span>def</span></span><span>&nbsp;</span><span class="entity name function python"><span>update_postcode</span></span><span class="punctuation definition parameters begin python"><span>(</span></span><span class="meta function parameters python"><span class="variable parameter function python"><span>word_in</span></span></span><span class="punctuation definition parameters end python"><span>)</span></span><span class="punctuation section function begin python"><span>:</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>word_out</span><span>&nbsp;</span><span class="keyword operator assignment python"><span>=</span></span><span>&nbsp;</span><span class="meta function-call python"><span>re</span><span>.</span><span>match</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="string quoted single single-line raw-regex python"><span class="storage type string python"><span>r</span></span><span class="punctuation definition string begin python"><span>&#39;</span></span><span class="keyword control anchor regexp"><span>^</span></span><span class="constant other character-class set regexp"><span class="punctuation definition character-class regexp"><span>[</span></span><span class="constant other character-class range regexp"><span>0-9</span></span><span class="punctuation definition character-class regexp"><span>]</span></span></span><span class="constant other placeholder python"><span>{5}</span></span><span class="punctuation definition string end python"><span>&#39;</span></span></span><span>,</span><span>word_in</span></span><span class="punctuation definition arguments end python"><span>)</span></span></span><span>.</span><span class="meta function-call python"><span>g</span><span>roup</span><span class="punctuation definition arguments begin python"><span>(</span></span><span class="meta function-call arguments python"><span class="constant numeric integer decimal python"><span>0</span></span></span><span class="punctuation definition arguments end python"><span>)</span></span></span></span></div><div class="line"><span class="source python"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control statement python"><span>return</span></span><span>&nbsp;</span><span>word_out</span></span></div></pre>
<h2 id="data-exploration-using-sql-queries">Data Exploration using SQL queries</h2>
<p>After data cleaning, I print csv files by running pre_database.py and import it into sql database. The importing procedure are as follows.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&gt;sqlite3&nbsp;test.db</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sqlite&gt;.mode&nbsp;csv&nbsp;[table&nbsp;name]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sqlite&gt;.import&nbsp;[file&nbsp;name]&nbsp;[table&nbsp;name]</span></span></span></div></pre><p>Following are the explorations of this dataset by SQL queries.</p>
<h4 id="number-of-nodes">Number of nodes</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SELECT&nbsp;COUNT(*)&nbsp;FROM&nbsp;nodes;</span></span></span></div></pre><p>1679039</p>
<h4 id="number-of-ways">Number of ways</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SELECT&nbsp;COUNT(*)&nbsp;FROM&nbsp;ways;</span></span></span></div></pre><p>226371</p>
<h4 id="number-of-unique-users">Number of unique users</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SELECT&nbsp;COUNT(DISTINCT(e.uid))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>FROM&nbsp;(SELECT&nbsp;uid&nbsp;FROM&nbsp;nodes&nbsp;UNION&nbsp;ALL&nbsp;SELECT&nbsp;uid&nbsp;FROM&nbsp;ways)&nbsp;as&nbsp;e;</span></span></span></div></pre><p>2070</p>
<h4 id="top-10-amenities">Top 10 amenities</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SELECT&nbsp;value,&nbsp;COUNT(*)&nbsp;as&nbsp;num</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>FROM&nbsp;nodes_tags</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>WHERE&nbsp;key=&#39;amenity&#39;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>GROUP&nbsp;BY&nbsp;value</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ORDER&nbsp;BY&nbsp;num&nbsp;DESC</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>LIMIT&nbsp;10;</span></span></span></div></pre><table>
<thead>
<tr>
<th>Amenities</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>restaurant</td>
<td>2558</td>
</tr>
<tr>
<td>cafe</td>
<td>1263</td>
</tr>
<tr>
<td>bar</td>
<td>1077</td>
</tr>
<tr>
<td>fuel</td>
<td>952</td>
</tr>
<tr>
<td>place_of_worship</td>
<td>867</td>
</tr>
<tr>
<td>bank</td>
<td>566</td>
</tr>
<tr>
<td>atm</td>
<td>523</td>
</tr>
<tr>
<td>telephone</td>
<td>512</td>
</tr>
<tr>
<td>parking</td>
<td>403</td>
</tr>
<tr>
<td>school</td>
<td>345</td>
</tr>
</tbody>
</table>
<p>Food related (restaurant, cafe, bar) amenities come at the top as expected. Place of worship is also numerous as Bangkok has a lot of Buddhist temple.</p>
<h4 id="top-cuisine">Top cuisine</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SELECT&nbsp;nodes_tags.value,&nbsp;COUNT(*)&nbsp;as&nbsp;num</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>FROM&nbsp;nodes_tags</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>JOIN&nbsp;(SELECT&nbsp;DISTINCT(id)&nbsp;FROM&nbsp;nodes_tags&nbsp;WHERE&nbsp;value=&#39;restaurant&#39;)&nbsp;i</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;nodes_tags.id=i.id</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>WHERE&nbsp;nodes_tags.key=&#39;cuisine&#39;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>GROUP&nbsp;BY&nbsp;nodes_tags.value</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ORDER&nbsp;BY&nbsp;num&nbsp;DESC</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>LIMIT&nbsp;10;</span></span></span></div></pre><table>
<thead>
<tr>
<th>Cuisine</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>thai</td>
<td>249</td>
</tr>
<tr>
<td>japanese</td>
<td>92</td>
</tr>
<tr>
<td>indian</td>
<td>78</td>
</tr>
<tr>
<td>international</td>
<td>41</td>
</tr>
<tr>
<td>italian</td>
<td>39</td>
</tr>
<tr>
<td>vegetarian</td>
<td>38</td>
</tr>
<tr>
<td>pizza</td>
<td>37</td>
</tr>
<tr>
<td>regional</td>
<td>37</td>
</tr>
<tr>
<td>chinese</td>
<td>33</td>
</tr>
<tr>
<td>seafood</td>
<td>33</td>
</tr>
</tbody>
</table>
<p>As a local, I agree Thai and Japanese are the most numerous. Indian though is surely should not be the third place. I am certain Chinese and Western food are much easier to find in Bangkok.</p>
<h4 id="top-religion">Top religion</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>SELECT&nbsp;nodes_tags.value,&nbsp;COUNT(*)&nbsp;as&nbsp;num</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>FROM&nbsp;nodes_tags</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>JOIN&nbsp;(SELECT&nbsp;DISTINCT(id)&nbsp;FROM&nbsp;nodes_tags&nbsp;WHERE&nbsp;value=&#39;place_of_worship&#39;)&nbsp;i</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;nodes_tags.id=i.id</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>WHERE&nbsp;nodes_tags.key=&#39;religion&#39;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>GROUP&nbsp;BY&nbsp;nodes_tags.value</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ORDER&nbsp;BY&nbsp;num&nbsp;DESC</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>LIMIT&nbsp;5;</span></span></span></div></pre><table>
<thead>
<tr>
<th>Religion</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>buddhist</td>
<td>625</td>
</tr>
<tr>
<td>christian</td>
<td>27</td>
</tr>
<tr>
<td>muslim</td>
<td>21</td>
</tr>
<tr>
<td>hindu</td>
<td>11</td>
</tr>
<tr>
<td>taoist</td>
<td>8</td>
</tr>
</tbody>
</table>
<h2 id="additional-ideas">Additional Ideas</h2>
<h4 id="guideline-for-transliteration-for-more-consistency">Guideline for transliteration for more consistency</h4>
<p>As I have seen inconsistencies between transliteration and translation, it would be nice if Open Street Map can provide some guidelines about this issue to the contributors. Showing a small tip such as &quot;always use translation instead of transliteration when applicable&quot; to the contributors in non-english area map would do the job. This would make data cleaner from the source level. Doing this however might drive some contributors into translate every possible things. Some words like proper name should not be translated though. For example consider the word &quot;Thanon Ratchawithi&quot; (Thanon = road, Ratcha = royal, Withi = way), 100% percent transliteration would be &quot;Thanon Ratchawithi&quot;, while 100% translation would be &quot;Royalway Road&quot; which is not understandable even for Thai people.  We can circumvent this by also giving them some examples of what should be translated and what should not.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The information in Open Street Map is rich but it is far from complete. As Indian cuisine comes at the third place, I think the distribution of the contributor might not sparse enough. To gather more information, a game like Pokemon Go might be able to help us. If we can create a game similar to Pokemon Go where people have to walk around the city, register and confirm point of interests (ex. by answering question like: is this a restaurant or not?, what food do they sell here?), the app can then collects crowdsourced data and send back to complete the map. The game has to ask questions in a subtle way though such that game is fun enough to play.</p></body>
</html>
